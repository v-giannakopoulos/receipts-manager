<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Receipt & Warranty Manager</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üì¶ Receipt & Warranty Manager</h1>
        </header>

        <div class="toolbar">
            <button id="importBtn" class="btn btn-primary">üì• Import JSON</button>
            <button id="exportJsonBtn" class="btn btn-secondary">üì§ Export JSON</button>
            <button id="exportCsvBtn" class="btn btn-secondary">üìä Export CSV</button>
            <button id="integrityCheckBtn" class="btn btn-icon" title="Re-check file integrity">üîÑ</button>
        </div>

        <div id="integrityBanner" class="banner-error" style="display: none;">
            <span id="integrityMessage"></span>
            <button id="recheckBtn" class="btn-small">üîÑ Re-check Files Now</button>
        </div>

        <div class="upload-zone" id="uploadZone">
            <div class="upload-content">
                <div class="upload-icon">üìÑ</div>
Drag & Drop receipt file here or <span class="browse-link" style="color: #2196f3; cursor: pointer; text-decoration: underline;">click to browse</span>                <p class="upload-hint">Supported: PDF, JPG, PNG (max 50MB)</p>
            </div>
            <input type="file" id="fileInput" accept=".pdf,.jpg,.jpeg,.png" hidden>
        </div>

        <div class="filters">
            <input type="text" id="searchInput" placeholder="üîç Search items..." class="search-input">
            <select id="projectFilter" class="filter-select">
                <option value="">All Projects</option>
            </select>
            <select id="statusFilter" class="filter-select">
                <option value="">All Status</option>
                <option value="active">Active</option>
                <option value="expiring">Expiring Soon (90d)</option>
                <option value="expired">Expired</option>
            </select>
            <select id="userFilter" class="filter-select">
                <option value="">All Users</option>
            </select>
            <button id="columnToggleBtn" class="btn btn-icon" title="Toggle columns">‚öôÔ∏è Columns</button>
        </div>

        <div class="table-container">
            <table id="itemsTable">
                <thead>
                    <tr>
                        <th data-sort="id" class="sortable">ID</th>
                        <th data-sort="receipt_group_id" class="sortable">Receipt Group</th>
                        <th data-sort="brand" class="sortable">Brand</th>
                        <th data-sort="model" class="sortable">Model</th>
                        <th data-sort="location" class="sortable">Location</th>
                        <th>Users</th>
                        <th data-sort="project" class="sortable">Project</th>
                        <th data-sort="shop" class="sortable">Shop</th>
                        <th data-sort="purchase_date" class="sortable">Purchase Date</th>
                        <th>Documentation</th>
                        <th data-sort="guarantee_end_date" class="sortable">Guarantee End Date</th>
                        <th>File</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <tr class="empty-state">
                        <td colspan="13">
                            <div class="empty-message">
                                <span class="empty-icon">üì¶</span>
                                <p>No items yet. Upload a receipt to get started!</p>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="status-bar">
            <span id="itemCount">0 items</span>
        </div>
    </div>

    <!-- Receipt Information Modal -->
    <div id="receiptModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Receipt Information</h2>
                <button class="modal-close" onclick="closeReceiptModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="shopInput">Shop *</label>
                    <input type="text" id="shopInput" required list="shopList">
                    <datalist id="shopList"></datalist>
                </div>
                <div class="form-group">
                    <label for="purchaseDateInput">Purchase Date *</label>
                    <input type="text" id="purchaseDateInput" placeholder="YYYY-MMM-DD" required>
                    <span class="hint">Format: 2026-Feb-15</span>
                </div>
                <div class="form-group">
                    <label for="documentationInput">Documentation *</label>
                    <input type="text" id="documentationInput" required list="docList">
                    <datalist id="docList"></datalist>
                </div>
                <div class="form-group">
                    <label for="quantityInput">Quantity *</label>
                    <input type="number" id="quantityInput" min="1" value="1" required>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeReceiptModal()">Cancel</button>
                <button class="btn btn-primary" onclick="submitReceiptInfo()">Next: Item Details</button>
            </div>
        </div>
    </div>

    <!-- Item Details Modal -->
    <div id="itemModal" class="modal">
        <div class="m
    <script src="/static/js/app.js"></script>
</body>
</html>
